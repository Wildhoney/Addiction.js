/*! Needle.js by Adam Timberlake created on 2013-08-04 */
window.Needle=function(){this._injectors={}},window.Needle.prototype.invoke=function(a,b){var c=a.toString().trim(),d=new RegExp("^function [^{]+","ig"),e=c.match(d)[0].trim(),f=new RegExp("(\\$[a-z0-9_]+)","ig"),g=e.match(f),h=[];for(var i in g)if(g.hasOwnProperty(i)){var j=g[i].replace(/\$/,""),k=this._injectors[j];"undefined"!=typeof k&&h.push(k)}var l=a.apply(null,h);return a.prototype&&(l.__proto__=a.prototype),"function"==typeof l.constructor&&l.constructor.call(l,b),l},window.Needle.prototype.registerInjector=function(a,b){this._injectors[a]=b},window.Needle.prototype.applyPrototypes=function(){Function.prototype.invoke=function(a){return window.needle.invoke(this,a)}},window.needle=new window.Needle;