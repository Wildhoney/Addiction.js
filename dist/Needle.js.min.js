/*! Needle.js by Adam Timberlake created on 2013-09-05 */
Needle=function(){this._injectors={},function(a){for(var b=[{label:"j",ref:"jQuery"},{label:"u",ref:"_"}],c=0,d=b.length;d>c;c++){var e=b[c];"undefined"!=typeof a[e.ref]&&this.registerInjector(e.label,a[e.ref])}}.bind(this)(window)},Needle.prototype.invoke=function(a,b){var c=a.toString().trim(),d=new RegExp("^function [^{]+","ig"),e=c.match(d)[0].trim(),f=new RegExp("(\\$[a-z0-9_]+)","ig"),g=e.match(f),h=[];for(var i in g)if(g.hasOwnProperty(i)){var j=g[i].replace(/\$/,""),k=this._injectors[j];"undefined"!=typeof k?h.push(k):console.error("NEEDLE.JS - Invalid dependency: "+j)}var l=a.apply(null,h);return a.prototype&&(l.__proto__=a.prototype),"function"==typeof l.constructor&&(Array.isArray(b)||(b=Array.prototype.slice.call(arguments,1)),l.constructor.apply(l,b)),l},Needle.prototype.registerInjector=function(a,b){this._injectors[a]=b},Needle.prototype.getInjectors=function(){return this._injectors},Needle.prototype.applyPrototypes=function(){if("undefined"!=typeof Function.prototype.invoke)throw{name:"Already Defined",message:"Method `invoke` has already been defined on `Function.prototype`."};Function.prototype.invoke=function(){return window.needle.invoke(this,Array.prototype.slice.call(arguments,0))}},function(){"strict mode";"undefined"!=typeof window&&(window.needle=new Needle),"undefined"!=typeof module&&(module.exports=new Needle)}();